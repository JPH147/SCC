<mat-card>
  <mat-card-header>
    <mat-card-title>Ventas</mat-card-title>
  </mat-card-header>
  <form [formGroup]="VentasForm">

      <div class="row3col-cliente">

          <mat-form-field>
            <input #Cliente placeholder="Ingresa Cliente" matInput [matAutocomplete]="auto2" formControlName= cliente>
              <mat-autocomplete #auto2="matAutocomplete" [displayWith] = "displayCliente">
                <mat-option *ngFor="let cliente of LstCliente" [value]="cliente">
                  {{cliente.nombre + ' ' + cliente.apellido}}
                </mat-option>
            </mat-autocomplete>
         </mat-form-field>
        
  
        <a></a>
        <mat-form-field >
           <input matInput placeholder="Cargo" formControlName="cargo">
        </mat-form-field>
        <a></a>
        <mat-form-field >
           <input matInput placeholder="Centro de Trabajo" formControlName="trabajo">
        </mat-form-field>
     </div>
     <div class="row3col-cliente">
        <mat-form-field>
           <input matInput placeholder="Domicilio" formControlName="domicilio">
        </mat-form-field>
        <a></a>
        <!--<mat-form-field >
           <input matInput placeholder="Lugar" formControlName="lugar">
        </mat-form-field>
        <a></a>-->
        <mat-form-field >
           <input matInput placeholder="Teléfono" formControlName="telefono">
        </mat-form-field>
     </div>

   <mat-grid-list cols="4" rowHeight="100px">
      <mat-grid-tile coslpan="1">
         <mat-form-field class="rows4">
            <mat-label>N° Talonario</mat-label>
            <mat-select placeholder='Selecciona N° Talonario' formControlName="talonario" (selectionChange)="SerieSeleccionada($event)">
              <mat-option *ngFor="let talonarioserie of LstSeries" [value] = "talonarioserie.serie"> {{talonarioserie.serie}} </mat-option>
            </mat-select>
         </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile coslpan="1">
         <!--<mat-form-field class="rows4">
           <input matInput placeholder="N° Contrato" formControlName="contrato">
        </mat-form-field>-->


        <mat-form-field class="rows4">
          <mat-label>N° Contrato</mat-label>
          <mat-select placeholder='Selecciona N° Contrato' formControlName="contrato">
            <mat-option *ngFor="let contrato of LstContrato" [value] = "contrato.id"> {{contrato.numero}} </mat-option>
          </mat-select>
       </mat-form-field>
         <a></a> 
      </mat-grid-tile>

      <mat-grid-tile coslpan="1">
        <mat-form-field class="rows4">
          <mat-select placeholder='Selecciona Tipo de Doc.' formControlName="tipodoc" >
            <mat-option *ngFor="let tipodocumento of LstTipoDocumento" [value] = "tipodocumento.id"> {{tipodocumento.nombre}} </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>

        <!--<mat-grid-tile coslpan="1">
         <mat-form-field class="rows4">
            <mat-select placeholder="Estado de Contrato" formControlName="estado">
               <mat-option>--</mat-option>
               <mat-option *ngFor="let state of states" [value]="state">{{state}}</mat-option>
            </mat-select>
         </mat-form-field>
      </mat-grid-tile>-->

      <mat-grid-tile coslpan="1">
        <mat-form-field class="rows4">
          <input matInput placeholder="Lugar de Venta" formControlName="lugar">
       </mat-form-field>
        <a></a> 
     </mat-grid-tile> 
   </mat-grid-list>
   
   <div class="row3col-cliente">
      <mat-form-field>
          <input #Vendedor placeholder="Ingresa Vendedor" matInput [matAutocomplete]="auto" formControlName= vendedor>
            <mat-autocomplete #auto="matAutocomplete" [displayWith] = "displayVendedor">
              <mat-option *ngFor="let vendedor of LstVendedor " [value]="vendedor">
                {{vendedor.nombre}}
              </mat-option>
          </mat-autocomplete>
       </mat-form-field>
      <a></a>
      <mat-form-field>
         <input matInput [matDatepicker]="picker" placeholder="Fecha de venta" formControlName="fechaventa">
         <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
         <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <a></a>
      <mat-form-field>
         <input matInput [matDatepicker]="InputFechaPago" placeholder="Mes y Año de Pago" formControlName="fechapago">
         <mat-datepicker-toggle matSuffix [for]="InputFechaPago"></mat-datepicker-toggle>
         <mat-datepicker #InputFechaPago></mat-datepicker>
      </mat-form-field>

   </div>
   <div class="row4col-pagos">
        <mat-form-field>
          <mat-select placeholder='Selecciona Tipo de Pago'  formControlName="tipopago">
            <mat-option *ngFor="let tipopago of LstTipoPago" [value] = "tipopago.id"> {{tipopago.nombre}} </mat-option>
          </mat-select>
        </mat-form-field>

      <p></p>
      <mat-form-field>
         <input matInput placeholder="Monto Total"  formControlName="montototal" #InputMontoTotal>
         <mat-error>Solo debe ingresar valores númericos</mat-error>
         <span matPrefix>S/.&nbsp;</span>
         <span matSuffix>.00</span>
      </mat-form-field>

      <p></p>
      <mat-form-field>
          <input matInput placeholder="Cuota Inicial" formControlName="inicial" #InputInicial>
          <mat-error>Solo debe ingresar valores númericos</mat-error>
          <span matPrefix>S/ &nbsp;</span>
          <span matSuffix>.00</span>
       </mat-form-field>

      <p></p>
      <mat-form-field>
         <input matInput placeholder="N° Cuotas" formControlName="cuotas" #InputCuota>
         <mat-error>Solo debe ingresar valores númericos</mat-error>
      </mat-form-field>
      
   </div>
   <div class="row2col-comentario">
      <mat-form-field class="full-width">
         <textarea matInput placeholder="Observaciones" formControlName="observaciones"></textarea>
      </mat-form-field>
   </div>
   <mat-grid-list cols="1" rowHeight="100px">
   <mat-grid-tile>
      <button mat-raised-button color="primary" class="boton-opciones" (click)="Agregar()" [disabled]="VentasForm.invalid">Adjuntar</button>
      <button mat-raised-button color="primary" class="boton-opciones" (click)="GeneraCronograma()">Generar</button>
      <button mat-raised-button color="primary" class="boton-opciones" (click)="GrabarVenta()" [disabled]="VentasForm.invalid">Grabar</button>
    </mat-grid-tile>
</mat-grid-list>
   <div class="row5col-producto" *ngFor="let producto of productos">
      <mat-form-field>
         <input matInput placeholder="Producto">
      </mat-form-field>
      <a></a>
      <mat-form-field>
         <input matInput placeholder="IMEI">
      </mat-form-field>
      <a></a>
      <mat-form-field>
        <input matInput placeholder="Precio">
     </mat-form-field>
     <a></a>
      <button mat-mini-fab color="primary" (click)="AgregaProductos()" type="button">
         <mat-icon>add</mat-icon>
      </button>
      <a></a>
      <button mat-mini-fab color="primary" (click)="EliminarProductos()" type="button">
         <mat-icon>remove</mat-icon>
      </button>
   </div>
  </form>
</mat-card>
<mat-card>
   <table mat-table [dataSource]="ListadoCronograma" class="mat-elevation-z8">
      <ng-container matColumnDef="numero">
         <th mat-header-cell *matHeaderCellDef> No. </th>
         <td mat-cell *matCellDef="let element"> {{element.numero}} </td>
      </ng-container>
      <ng-container matColumnDef="month">
         <th mat-header-cell *matHeaderCellDef> Periodo </th>
         <td mat-cell *matCellDef="let element"> {{element.month}} </td>
      </ng-container>
      <ng-container matColumnDef="price">
         <th mat-header-cell *matHeaderCellDef> Monto </th>
         <td mat-cell *matCellDef="let element"> {{element.price}} </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
   </table>
  </mat-card>

